using System;
using EncoreTickets.SDK.Inventory.Models;
using EncoreTickets.SDK.Tests.Helpers;
using EncoreTickets.SDK.Utilities.CommonModels;
using EncoreTickets.SDK.Utilities.CommonModels.Extensions;
using NUnit.Framework;

namespace EncoreTickets.SDK.Tests.UnitTests.Utilities.CommonModels
{
    [TestFixture]
    internal class EntityWithAggregateReferenceExtensionTests
    {
        [TestCase(true, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM", Description = "JWT with data expected for an aggregate reference")]
        [TestCase(false, "")]
        [TestCase(false, null)]
        [TestCase(false, "OA==")]
        [TestCase(true, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0ZXN0IjoiMTM4In0.TH-VlcZDP469SrqLsk7QkS9V5RP0AKQNnghlst3GEuw", Description = "JWT with some payload data")]
        [TestCase(false, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.e30.yXvILkvUUCBqAFlAv6wQ1Q-QRAjfe3eSosO949U73Vo", Description = "JWT without some payload data")]
        public void IsDataAvailableFromAggregateReference_ReturnsData(bool expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.IsDataAvailableFromAggregateReference();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("138", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6bnVsbCwidmMiOiJHQiIsInBpIjoiMTU4NyIsImlpIjoiQ0lSQ0xFflg0NDs1MCIsImliIjoiREMiLCJpciI6IlgiLCJpc24iOiI0NCIsImlzbGQiOiJDaXJjbGUiLCJpcGkiOm51bGwsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjpudWxsLCJlc2VpIjpudWxsLCJlYmkiOm51bGwsImVwaSI6bnVsbCwiZWRjdCI6bnVsbCwicGFpIjoiMzUzOCIsImNwdiI6MCwiY3BjIjoiR0JQIiwib3NwdiI6MzIwMCwib3NwYyI6IkdCUCIsIm9mdnYiOjI1MDAsIm9mdmMiOiJHQlAiLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.vXOASPuOXYGxTqnaf6gZkhvIHjQVg7yKTfqbJWeRQxU")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("139", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("164", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetVenueId_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetVenueId();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("GB", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjpudWxsLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.sP1uoBzO-wLtn-7Ukj_xTPzyMsOvv7sxW-1nw8pOr2c")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("GB", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetVenueCountry_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetVenueCountry();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("1587", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6bnVsbCwiaWkiOiJDSVJDTEV-WDQ0OzUwIiwiaWIiOiJEQyIsImlyIjoiWCIsImlzbiI6IjQ0IiwiaXNsZCI6IkNpcmNsZSIsImlwaSI6bnVsbCwiaWQiOiIyMDIwLTEwLTIzVDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiSU5URVJOQUwiLCJlcmkiOm51bGwsImVzZWkiOm51bGwsImViaSI6bnVsbCwiZXBpIjpudWxsLCJlZGN0IjpudWxsLCJwYWkiOiIzNTM4IiwiY3B2IjowLCJjcGMiOiJHQlAiLCJvc3B2IjozMjAwLCJvc3BjIjoiR0JQIiwib2Z2diI6MjUwMCwib2Z2YyI6IkdCUCIsInNzcHYiOjMyMDAsInNzcGMiOiJHQlAiLCJzZnZ2IjoyNTAwLCJzZnZjIjoiR0JQIiwib3Rzc3BmciI6MSwic3Rvc3BmciI6MSwiaWMiOjQsInBtYyI6bnVsbCwicmVkIjoiMTg1ODExMTciLCJwcnYiOjB9.1Urw96vtSytpLDjpjILR2aaFXRpiNo1GgmLFWmYtnwc")]
        [TestCase(null, "eyJ0eXAiOiJiLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("2017", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("7698", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetProductId_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetProductId();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("CIRCLE~X44;50", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6bnVsbCwiaWIiOiJEQyIsImlyIjoiWCIsImlzbiI6IjQ0IiwiaXNsZCI6IkNpcmNsZSIsImlwaSI6bnVsbCwiaWQiOiIyMDIwLTEwLTIzVDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiSU5URVJOQUwiLCJlcmkiOm51bGwsImVzZWkiOm51bGwsImViaSI6bnVsbCwiZXBpIjpudWxsLCJlZGN0IjpudWxsLCJwYWkiOiIzNTM4IiwiY3B2IjowLCJjcGMiOiJHQlAiLCJvc3B2IjozMjAwLCJvc3BjIjoiR0JQIiwib2Z2diI6MjUwMCwib2Z2YyI6IkdCUCIsInNzcHYiOjMyMDAsInNzcGMiOiJHQlAiLCJzZnZ2IjoyNTAwLCJzZnZjIjoiR0JQIiwib3Rzc3BmciI6MSwic3Rvc3BmciI6MSwiaWMiOjQsInBtYyI6bnVsbCwicmVkIjoiMTg1ODExMTciLCJwcnYiOjB9.FbhPPIFOGhC4DI1CAR8IV7_PbqnJh4l-pcHAp2ra2s4")]
        [TestCase(null, "eyJJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("BALC RV~A6;6", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetItemReference_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetItemReference();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("DC", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6bnVsbCwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.jZ_AlDto4tNGPLLz5K21y-MAz9vJuskT-TJVQYk4NGw")]
        [TestCase(null, "eyJ0eXAiOiX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("DC", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("BLR", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetItemBlock_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetItemBlock();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("X", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOm51bGwsImlzbiI6IjQ0IiwiaXNsZCI6IkNpcmNsZSIsImlwaSI6bnVsbCwiaWQiOiIyMDIwLTEwLTIzVDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiSU5URVJOQUwiLCJlcmkiOm51bGwsImVzZWkiOm51bGwsImViaSI6bnVsbCwiZXBpIjpudWxsLCJlZGN0IjpudWxsLCJwYWkiOiIzNTM4IiwiY3B2IjowLCJjcGMiOiJHQlAiLCJvc3B2IjozMjAwLCJvc3BjIjoiR0JQIiwib2Z2diI6MjUwMCwib2Z2YyI6IkdCUCIsInNzcHYiOjMyMDAsInNzcGMiOiJHQlAiLCJzZnZ2IjoyNTAwLCJzZnZjIjoiR0JQIiwib3Rzc3BmciI6MSwic3Rvc3BmciI6MSwiaWMiOjQsInBtYyI6bnVsbCwicmVkIjoiMTg1ODExMTciLCJwcnYiOjB9.4RnV1kNTYyly-3yPuhQUH5Au1qgwfJI3LprM3Fgf_u8")]
        [TestCase(null, "eyJiLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("P", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("A", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetItemRow_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetItemRow();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("44", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjpudWxsLCJpc2xkIjpudWxsLCJpcGkiOm51bGwsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjpudWxsLCJlc2VpIjpudWxsLCJlYmkiOm51bGwsImVwaSI6bnVsbCwiZWRjdCI6bnVsbCwicGFpIjoiMzUzOCIsImNwdiI6MCwiY3BjIjoiR0JQIiwib3NwdiI6MzIwMCwib3NwYyI6IkdCUCIsIm9mdnYiOjI1MDAsIm9mdmMiOiJHQlAiLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.OwvhNh5OZ4HxTPBHP7BgXrXSiH07M47mR6Jc2ynccqQ")]
        [TestCase(null, "eyJ0J2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoidHlydCIsImlzbGQiOiJDaXJjbGUiLCJpcGkiOm51bGwsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjpudWxsLCJlc2VpIjpudWxsLCJlYmkiOm51bGwsImVwaSI6bnVsbCwiZWRjdCI6bnVsbCwicGFpIjoiMzUzOCIsImNwdiI6MCwiY3BjIjoiR0JQIiwib3NwdiI6MzIwMCwib3NwYyI6IkdCUCIsIm9mdnYiOjI1MDAsIm9mdmMiOiJHQlAiLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.2AHRZfxI0nYWujmy0uHVqMXG_6i5UeTb61T0CyTmR-c")]
        [TestCase("31", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("6", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetItemSeatNumber_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetItemSeatNumber();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("Circle", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjpudWxsLCJpcGkiOm51bGwsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjpudWxsLCJlc2VpIjpudWxsLCJlYmkiOm51bGwsImVwaSI6bnVsbCwiZWRjdCI6bnVsbCwicGFpIjoiMzUzOCIsImNwdiI6MCwiY3BjIjoiR0JQIiwib3NwdiI6MzIwMCwib3NwYyI6IkdCUCIsIm9mdnYiOjI1MDAsIm9mdmMiOiJHQlAiLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.kGIaybZN1zQk49mVdyQJ9XiNGcLtwY8cFDqhWX6aAsA")]
        [TestCase(null, "eyJ0eXAiOaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("Balcony (Restricted View)", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetItemSeatLocationDescription_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetItemSeatLocationDescription();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("1930", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjoiMTkzMCIsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjpudWxsLCJlc2VpIjpudWxsLCJlYmkiOm51bGwsImVwaSI6bnVsbCwiZWRjdCI6bnVsbCwicGFpIjoiMzUzOCIsImNwdiI6MCwiY3BjIjoiR0JQIiwib3NwdiI6MzIwMCwib3NwYyI6IkdCUCIsIm9mdnYiOjI1MDAsIm9mdmMiOiJHQlAiLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.pez5pDTRY9H9a17_3_u5ce6_UpYlwy0S9K8Lt3liI-Y")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLC6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjoiMTkzMCIsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjpudWxsLCJlc2VpIjpudWxsLCJlYmkiOm51bGwsImVwaSI6bnVsbCwiZWRjdCI6bnVsbCwicGFpIjoiMzUzOCIsImNwdiI6MCwiY3BjIjoiR0JQIiwib3NwdiI6MzIwMCwib3NwYyI6IkdCUCIsIm9mdnYiOjI1MDAsIm9mdmMiOiJHQlAiLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.pez5pDTRY9H9a17_3_u5ce6_UpYlwy0S9K8Lt3liI-Y")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetItemPerformanceId_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetItemPerformanceId();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("10/23/2020 19:30:00", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6ImdncmUwIiwiZXNpIjoiSU5URVJOQUwiLCJlcmkiOm51bGwsImVzZWkiOm51bGwsImViaSI6bnVsbCwiZXBpIjpudWxsLCJlZGN0IjpudWxsLCJwYWkiOiIzNTM4IiwiY3B2IjowLCJjcGMiOiJHQlAiLCJvc3B2IjozMjAwLCJvc3BjIjoiR0JQIiwib2Z2diI6MjUwMCwib2Z2YyI6IkdCUCIsInNzcHYiOjMyMDAsInNzcGMiOiJHQlAiLCJzZnZ2IjoyNTAwLCJzZnZjIjoiR0JQIiwib3Rzc3BmciI6MSwic3Rvc3BmciI6MSwiaWMiOjQsInBtYyI6bnVsbCwicmVkIjoiMTg1ODExMTciLCJwcnYiOjB9.hoMGMu1TwuYxlzd6RE2tIyDmC2hjqcgvez7RcZFyEt4")]
        [TestCase(null, "eyJ0eXAiLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6ImdncmUwIiwiZXNpIjoiSU5URVJOQUwiLCJlcmkiOm51bGwsImVzZWkiOm51bGwsImViaSI6bnVsbCwiZXBpIjpudWxsLCJlZGN0IjpudWxsLCJwYWkiOiIzNTM4IiwiY3B2IjowLCJjcGMiOiJHQlAiLCJvc3B2IjozMjAwLCJvc3BjIjoiR0JQIiwib2Z2diI6MjUwMCwib2Z2YyI6IkdCUCIsInNzcHYiOjMyMDAsInNzcGMiOiJHQlAiLCJzZnZ2IjoyNTAwLCJzZnZjIjoiR0JQIiwib3Rzc3BmciI6MSwic3Rvc3BmciI6MSwiaWMiOjQsInBtYyI6bnVsbCwicmVkIjoiMTg1ODExMTciLCJwcnYiOjB9.hoMGMu1TwuYxlzd6RE2tIyDmC2hjqcgvez7RcZFyEt4")]
        [TestCase("01/04/2020 19:30:00", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("10/11/2020 13:00:00", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(null, null)]
        [TestCase(null, "")]
        [TestCase(null, "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetItemDate_ReturnsData(string expectedDateAsStr, string aggregateReference)
        {
            var expected = expectedDateAsStr == null
                ? null
                : (DateTime?) TestHelper.ConvertTestArgumentToDateTime(expectedDateAsStr);
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetItemDate();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("INTERNAL", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjpudWxsLCJpcGkiOm51bGwsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6bnVsbCwiZXJpIjpudWxsLCJlc2VpIjpudWxsLCJlYmkiOm51bGwsImVwaSI6bnVsbCwiZWRjdCI6bnVsbCwicGFpIjoiMzUzOCIsImNwdiI6MCwiY3BjIjoiR0JQIiwib3NwdiI6MzIwMCwib3NwYyI6IkdCUCIsIm9mdnYiOjI1MDAsIm9mdmMiOiJHQlAiLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.GUFrGQDOv5Z7KDksc7lUDBCNNCH4HKPxT-DSsFnPLgk")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("ENTA", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetExternalSupplierId_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetExternalSupplierId();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("XS", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjpudWxsLCJpcGkiOm51bGwsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjoiWFMiLCJlc2VpIjpudWxsLCJlYmkiOm51bGwsImVwaSI6bnVsbCwiZWRjdCI6bnVsbCwicGFpIjoiMzUzOCIsImNwdiI6MCwiY3BjIjoiR0JQIiwib3NwdiI6MzIwMCwib3NwYyI6IkdCUCIsIm9mdnYiOjI1MDAsIm9mdmMiOiJHQlAiLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.2ufR6ba45xiX4ACgdwTfXfS528CCSga6EwB4QK_aESw")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("5", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetExternalRowId_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetExternalRowId();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("44", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjpudWxsLCJpcGkiOm51bGwsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjpudWxsLCJlc2VpIjoiNDQiLCJlYmkiOm51bGwsImVwaSI6bnVsbCwiZWRjdCI6bnVsbCwicGFpIjoiMzUzOCIsImNwdiI6MCwiY3BjIjoiR0JQIiwib3NwdiI6MzIwMCwib3NwYyI6IkdCUCIsIm9mdnYiOjI1MDAsIm9mdmMiOiJHQlAiLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.h38NwlvrXO2kgSmq_Hji3QkxxrIQMQaH6xNewTeqkn8")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("829", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetExternalSeatIndex_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetExternalSeatIndex();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("s1", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjpudWxsLCJpcGkiOm51bGwsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjpudWxsLCJlc2VpIjpudWxsLCJlYmkiOiJzMSIsImVwaSI6bnVsbCwiZWRjdCI6bnVsbCwicGFpIjoiMzUzOCIsImNwdiI6MCwiY3BjIjoiR0JQIiwib3NwdiI6MzIwMCwib3NwYyI6IkdCUCIsIm9mdnYiOjI1MDAsIm9mdmMiOiJHQlAiLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.p9oGBZ6tln49vDlewuYAIgtQdbRi2Lmb6WCdTjMsoLk")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("BLR", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetExternalBlockId_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetExternalBlockId();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("12345", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjpudWxsLCJpcGkiOm51bGwsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjpudWxsLCJlc2VpIjpudWxsLCJlYmkiOm51bGwsImVwaSI6IjEyMzQ1IiwiZWRjdCI6bnVsbCwicGFpIjoiMzUzOCIsImNwdiI6MCwiY3BjIjoiR0JQIiwib3NwdiI6MzIwMCwib3NwYyI6IkdCUCIsIm9mdnYiOjI1MDAsIm9mdmMiOiJHQlAiLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.T0N2M4oV3yBDHj_6PfpK7EvBLmplvzvD48GQBX9QYYI")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("2010111300", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetExternalPerformanceIndex_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetExternalPerformanceIndex();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("student", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjpudWxsLCJpcGkiOm51bGwsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjpudWxsLCJlc2VpIjpudWxsLCJlYmkiOm51bGwsImVwaSI6bnVsbCwiZWRjdCI6InN0dWRlbnQiLCJwYWkiOiIzNTM4IiwiY3B2IjowLCJjcGMiOiJHQlAiLCJvc3B2IjozMjAwLCJvc3BjIjoiR0JQIiwib2Z2diI6MjUwMCwib2Z2YyI6IkdCUCIsInNzcHYiOjMyMDAsInNzcGMiOiJHQlAiLCJzZnZ2IjoyNTAwLCJzZnZjIjoiR0JQIiwib3Rzc3BmciI6MSwic3Rvc3BmciI6MSwiaWMiOjQsInBtYyI6bnVsbCwicmVkIjoiMTg1ODExMTciLCJwcnYiOjB9.MdCHwlMjNRkfnxxaDy4ZrVGNmtrPs_YQFg47Grd_RJE")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("ENCFULL10", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase("ENT,E01,1", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NiIsInZjIjoiR0IiLCJwaSI6IjM2MDgiLCJpaSI6IkNJUkNMRX5MNTsxMSIsImliIjoiREMiLCJpciI6IkwiLCJpc24iOiI1IiwiaXNsZCI6IkNpcmNsZSIsImlwaSI6bnVsbCwiaWQiOiIyMDIwLTEwLTEyVDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiRU5UQSIsImVyaSI6Ijk2MyIsImVzZWkiOiIxIiwiZWJpIjoiQ0lSIiwiZXBpIjoiMTI2OTQwIiwiZWRjdCI6IkVOVCxFMDEsMSIsInBhaSI6IjM2MzkiLCJjcHYiOjIwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjI0MDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MjQwMCwic3NwYyI6IkdCUCIsInNmdnYiOjIwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6bnVsbCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.NHI8YxpOT6jE2H9FRZd1RDxqvBlXd4wVf8Y1bR7McuY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetExternalDiscountCodeType_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetExternalDiscountCodeType();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("3538", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjpudWxsLCJpcGkiOm51bGwsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjpudWxsLCJlc2VpIjpudWxsLCJlYmkiOm51bGwsImVwaSI6bnVsbCwiZWRjdCI6bnVsbCwicGFpIjpudWxsLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.jAjFlAS11iB7Xoa9URBfL8gD9P6qU7Alwl-VEau8Tg8")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("3639", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetPartnerId_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetPartnerId();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(0, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjpudWxsLCJpcGkiOm51bGwsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjpudWxsLCJlc2VpIjpudWxsLCJlYmkiOm51bGwsImVwaSI6bnVsbCwiZWRjdCI6bnVsbCwicGFpIjoiMzUzOCIsImNwdiI6bnVsbCwiY3BjIjoiR0JQIiwib3NwdiI6MzIwMCwib3NwYyI6IkdCUCIsIm9mdnYiOjI1MDAsIm9mdmMiOiJHQlAiLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.ahuSsxVX77UMO_yhKaeAqYBwHbaOyhe8wn_LzuFsj7k")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(0, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase(3000, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(null, null)]
        [TestCase(null, "")]
        [TestCase(null, "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetCostPriceValue_ReturnsData(int? expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetCostPriceValue();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("GBP", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjpudWxsLCJpcGkiOm51bGwsImlkIjoiMjAyMC0xMC0yM1QxOTozMDowMCswMDowMCIsImVzaSI6IklOVEVSTkFMIiwiZXJpIjpudWxsLCJlc2VpIjpudWxsLCJlYmkiOm51bGwsImVwaSI6bnVsbCwiZWRjdCI6bnVsbCwicGFpIjoiMzUzOCIsImNwdiI6MCwiY3BjIjpudWxsLCJvc3B2IjozMjAwLCJvc3BjIjoiR0JQIiwib2Z2diI6MjUwMCwib2Z2YyI6IkdCUCIsInNzcHYiOjMyMDAsInNzcGMiOiJHQlAiLCJzZnZ2IjoyNTAwLCJzZnZjIjoiR0JQIiwib3Rzc3BmciI6MSwic3Rvc3BmciI6MSwiaWMiOjQsInBtYyI6bnVsbCwicmVkIjoiMTg1ODExMTciLCJwcnYiOjB9.BH8mmdR2plux0FtupK2xxPaSbFpb3dTr_0d5pBJPLSk")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("GBP", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetCostPriceCurrency_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetCostPriceCurrency();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(3200, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOm51bGwsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.1hiKJRg-XUzWjpDVpuQCNpxIUiFupduAyH9UVc7pfj0")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(0, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase(3000, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(null, null)]
        [TestCase(null, "")]
        [TestCase(null, "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetOfficeSalePriceValue_ReturnsData(int? expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetOfficeSalePriceValue();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("GBP", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOm51bGwsIm9mdnYiOjI1MDAsIm9mdmMiOiJHQlAiLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.XVge_Onm0apgW52MsQ6KJuEY1wU7HP4oOlhE_3EMvQ0")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("GBP", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetOfficeSalePriceCurrency_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetOfficeSalePriceCurrency();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(2500, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjpudWxsLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.HGgBYpNIYUQX5nQiP0j2h7cQo3HQiGJtxtoEECusYYE")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(0, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase(3000, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(null, null)]
        [TestCase(null, "")]
        [TestCase(null, "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetOfficeFaceValue_ReturnsData(int? expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetOfficeFaceValue();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("GBP", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjpudWxsLCJzc3B2IjozMjAwLCJzc3BjIjoiR0JQIiwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.EEKEFOcAWAfVbb8r1QcddvUHNQnCAZ_UQAYCE9im1bs")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("GBP", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetOfficeFaceValueCurrency_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetOfficeFaceValueCurrency();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(3200, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6bnVsbCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.r9YpspS1KakXxYelWqbqOJ5FpZxyir3blOfzTYam4H4")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(0, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase(3000, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(null, null)]
        [TestCase(null, "")]
        [TestCase(null, "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetShopperSalePriceValue_ReturnsData(int? expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetShopperSalePriceValue();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("GBP", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6bnVsbCwic2Z2diI6MjUwMCwic2Z2YyI6IkdCUCIsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.DbNf84vvpI_1Dky3rP73Aq51KBEBq0CXFCbBuCn-RY0")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("GBP", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetShopperSalePriceCurrency_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetShopperSalePriceCurrency();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(2500, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOm51bGwsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.PvOfprT_BC6pnR7yzUAYfLQLiR2qUVVzmknPrd0sHJw")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(0, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase(3000, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(null, null)]
        [TestCase(null, "")]
        [TestCase(null, "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetShopperFaceValue_ReturnsData(int? expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetShopperFaceValue();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("GBP", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOm51bGwsIm90c3NwZnIiOjEsInN0b3NwZnIiOjEsImljIjo0LCJwbWMiOm51bGwsInJlZCI6IjE4NTgxMTE3IiwicHJ2IjowfQ.1NfeuT6JvH75-5I-ddH7LDQdVi5XZL7-S1tGEvqhTEs")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("GBP", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetShopperFaceValueCurrency_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetShopperFaceValueCurrency();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(1, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjpudWxsLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.u76HqsYbt0fRIhBytMIfJYHIUB89n5TB9Abg66foqPE")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(0, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase(1, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(null, null)]
        [TestCase(null, "")]
        [TestCase(null, "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetOfficeToShopperSalePriceFXRate_ReturnsData(int? expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetOfficeToShopperSalePriceFXRate();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(1, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjpudWxsLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.xH_mkoJ9IhR0-zCsE_NVTMcsp0-m09RhApprUqFr8h8")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(0, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase(1, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(null, null)]
        [TestCase(null, "")]
        [TestCase(null, "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetSupplierToOfficeSalePriceFXRate_ReturnsData(int? expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetSupplierToOfficeSalePriceFXRate();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(4, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6bnVsbCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.5ZBfmUSClLTJyXFdkGDp6O2JJo4iyJDzbh5pqw2sGvY")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(0, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase(10, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(null, null)]
        [TestCase(null, "")]
        [TestCase(null, "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetInsideCommission_ReturnsData(int? expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetInsideCommission();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("16729", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjoiMTY3MjkiLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.oCxx3T5wJD7IYDeAWKQWKCbtoRRw1GZvZ10ej5hflNU")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase("", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("AFFIL", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(default(string), null)]
        [TestCase(default(string), "")]
        [TestCase(default(string), "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetPriceMatrixCode_ReturnsData(string expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetPriceMatrixCode();

            Assert.AreEqual(expected, actual);
        }

        [TestCase("11/17/1858", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOm51bGwsInBydiI6MH0.6pysjhpMZmoFZUGnqgTAowSs1cy5J9EOpvgeNHQCIoA")]
        [TestCase(null, "eyJ0eXAiLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6ImdncmUwIiwiZXNpIjoiSU5URVJOQUwiLCJlcmkiOm51bGwsImVzZWkiOm51bGwsImViaSI6bnVsbCwiZXBpIjpudWxsLCJlZGN0IjpudWxsLCJwYWkiOiIzNTM4IiwiY3B2IjowLCJjcGMiOiJHQlAiLCJvc3B2IjozMjAwLCJvc3BjIjoiR0JQIiwib2Z2diI6MjUwMCwib2Z2YyI6IkdCUCIsInNzcHYiOjMyMDAsInNzcGMiOiJHQlAiLCJzZnZ2IjoyNTAwLCJzZnZjIjoiR0JQIiwib3Rzc3BmciI6MSwic3Rvc3BmciI6MSwiaWMiOjQsInBtYyI6bnVsbCwicmVkIjoiMTg1ODExMTciLCJwcnYiOjB9.hoMGMu1TwuYxlzd6RE2tIyDmC2hjqcgvez7RcZFyEt4")]
        [TestCase("01/04/2020", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase("08/31/2020", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(null, null)]
        [TestCase(null, "")]
        [TestCase(null, "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetRateExpiryDate_ReturnsData(string expectedDateAsStr, string aggregateReference)
        {
            var expected = expectedDateAsStr == null
                ? null
                : (DateTime?)TestHelper.ConvertTestArgumentToDateTime(expectedDateAsStr);
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetRateExpiryDate();

            Assert.AreEqual(expected, actual);
        }

        [TestCase(0, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(null, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6bnVsbH0.F3pRUck1lZAiKnqfX3Aw6a7z7AjF3V6PABezB1Fgl-0")]
        [TestCase(null, "eyJCIsInZjIjoiR0IiLCJwaSI6IjE1ODciLCJpaSI6IkNJUkNMRX5YNDQ7NTAiLCJpYiI6IkRDIiwiaXIiOiJYIiwiaXNuIjoiNDQiLCJpc2xkIjoiQ2lyY2xlIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMjNUMTk6MzA6MDArMDA6MDAiLCJlc2kiOiJJTlRFUk5BTCIsImVyaSI6bnVsbCwiZXNlaSI6bnVsbCwiZWJpIjpudWxsLCJlcGkiOm51bGwsImVkY3QiOm51bGwsInBhaSI6IjM1MzgiLCJjcHYiOjAsImNwYyI6IkdCUCIsIm9zcHYiOjMyMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjoyNTAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzIwMCwic3NwYyI6IkdCUCIsInNmdnYiOjI1MDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6NCwicG1jIjpudWxsLCJyZWQiOiIxODU4MTExNyIsInBydiI6MH0.L-E7HTETVnPRzkr6ghsFVTL4X62rSycnF-S_PtIH8KM")]
        [TestCase(0, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjEzOSIsInZjIjoiIiwicGkiOiIyMDE3IiwiaWkiOiIiLCJpYiI6IkRDIiwiaXIiOiJQIiwiaXNuIjoiMzEiLCJpc2xkIjoiIiwiaXBpIjoiIiwiaWQiOiIyMDIwLTAxLTA0VDE5OjMwOjAwKzAwOjAwIiwiZXNpIjoiIiwiZXJpIjoiIiwiZXNlaSI6IiIsImViaSI6IiIsImVwaSI6IiIsImVkY3QiOiIiLCJwYWkiOiIiLCJjcHYiOjAsImNwYyI6IiIsIm9zcHYiOjAsIm9zcGMiOiIiLCJvZnZ2IjowLCJvZnZjIjoiIiwic3NwdiI6MCwic3NwYyI6IiIsInNmdnYiOjAsInNmdmMiOiIiLCJvdHNzcGZyIjowLCJzdG9zcGZyIjowLCJpYyI6MCwicG1jIjoiIiwicmVkIjoiMjAyMDAxMDQiLCJwcnYiOjB9.T58JjzInDwXHCaytrA2eaAbmdi1wj1MkrVmiQvSm5co")]
        [TestCase(6, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2aSI6IjE2NCIsInZjIjoiR0IiLCJwaSI6Ijc2OTgiLCJpaSI6IkJBTEMgUlZ-QTY7NiIsImliIjoiQkxSIiwiaXIiOiJBIiwiaXNuIjoiNiIsImlzbGQiOiJCYWxjb255IChSZXN0cmljdGVkIFZpZXcpIiwiaXBpIjpudWxsLCJpZCI6IjIwMjAtMTAtMTFUMTM6MDA6MDArMDA6MDAiLCJlc2kiOiJFTlRBIiwiZXJpIjoiNSIsImVzZWkiOiI4MjkiLCJlYmkiOiJCTFIiLCJlcGkiOiIyMDEwMTExMzAwIiwiZWRjdCI6IkVOQ0ZVTEwxMCIsInBhaSI6IjM2MzkiLCJjcHYiOjMwMDAsImNwYyI6IkdCUCIsIm9zcHYiOjMwMDAsIm9zcGMiOiJHQlAiLCJvZnZ2IjozMDAwLCJvZnZjIjoiR0JQIiwic3NwdiI6MzAwMCwic3NwYyI6IkdCUCIsInNmdnYiOjMwMDAsInNmdmMiOiJHQlAiLCJvdHNzcGZyIjoxLCJzdG9zcGZyIjoxLCJpYyI6MTAsInBtYyI6IkFGRklMIiwicmVkIjoiMjAyMDA4MzEiLCJwcnYiOjZ9.GjG3BbrrKm9EbWWrs_UYK3izyzT-GFll534s-ncGaAY")]
        [TestCase(null, null)]
        [TestCase(null, "")]
        [TestCase(null, "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lbG9uZ2JpZ3Rlc3RzdHJpbmdsYWxhbGFsYSI6IjEyMzQ1Njc4OTAifQ.9pFSyjynbez5RvkOTynDlqoB73jhTfv65ngoxaKwZAk")]
        public void GetPriceRateVersion_ReturnsData(int? expected, string aggregateReference)
        {
            var entity = CreateEntityWithAggregateReference(aggregateReference);

            var actual = entity.GetPriceRateVersion();

            Assert.AreEqual(expected, actual);
        }

        private IEntityWithAggregateReference CreateEntityWithAggregateReference(string aggregateReference)
        {
            return new AggregateGrouping { AggregateReference = aggregateReference };
        }
    }
}
